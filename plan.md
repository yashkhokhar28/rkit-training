Here's the detailed table structure for your API design, organized in a markdown format:

# API Design

## 1. Job Seeker (User APIs)

| API Endpoint        | HTTP Method | Controller      | Method          | Required Fields                                                                          | Validations                                                                                                                                      | Description                                                                                                                                                                                            |
| ------------------- | ----------- | --------------- | --------------- | ---------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| /api/user/register  | POST        | UserController  | RegisterUser    | - FullName (string)<br>- Email (string)<br>- Password (string)<br>- PhoneNumber (string) | Required, MinLength: 3, MaxLength: 50<br>Required, Valid Email Format<br>Required, MinLength: 8, Strong password<br>Optional, Valid Phone Format | Receives user details (FullName, Email, Password, PhoneNumber). Validates data, hashes the password, and saves user details in the Users table. Returns a success message or validation errors.        |
| /api/user/login     | POST        | UserController  | LoginUser       | - Email (string)<br>- Password (string)                                                  | Required, Valid Email Format<br>Required, MinLength: 8                                                                                           | Verifies email and password. If valid, generates a JWT token with user details for authentication. Updates the LastLogin field in the database. Returns the token with user profile details.           |
| /api/user/skills    | GET         | SkillController | GetSkillsByUser | - UserId (int)                                                                           | Required, Must Exist in Database                                                                                                                 | Fetches all skills linked to the given UserId from the UserSkills table and returns them as a JSON response. Validates that the UserId exists.                                                         |
| /api/user/add-skill | POST        | SkillController | AddSkillToUser  | - UserId (int)<br>- SkillName (string)                                                   | Required, Must Exist in Database<br>Required, MaxLength: 30, Predefined Skill                                                                    | Accepts UserId and SkillName. Checks if the skill is in the predefined list (Skills table). If valid, links the skill to the user in the UserSkills table. Responds with success or error messages.    |
| /api/match/jobs     | GET         | MatchController | GetMatchingJobs | - UserId (int)                                                                           | Required, Must Exist in Database                                                                                                                 | Retrieves user skills from UserSkills table. Finds jobs requiring these skills from the Jobs table. Performs matching logic (e.g., by percentage overlap). Returns a list of jobs sorted by relevance. |

## 2. Employer APIs

| API Endpoint                      | HTTP Method | Controller     | Method             | Required Fields                                                                                                                      | Validations                                                                                                                                                                               | Description                                                                                                                                                                                       |
| --------------------------------- | ----------- | -------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /api/employer/register            | POST        | UserController | RegisterEmployer   | - CompanyName (string)<br>- Email (string)<br>- Password (string)<br>- PhoneNumber (string)                                          | Required, MinLength: 3, MaxLength: 100<br>Required, Valid Email Format<br>Required, MinLength: 8, Strong password<br>Optional, Valid Phone Format                                         | Similar to user registration but tailored for employers. Saves employer details in the Employers table. Returns success or validation errors.                                                     |
| /api/employer/login               | POST        | UserController | LoginEmployer      | - Email (string)<br>- Password (string)                                                                                              | Required, Valid Email Format<br>Required, MinLength: 8                                                                                                                                    | Verifies credentials. Generates a JWT token for employers. Updates the LastLogin field in the database. Returns token and employer details.                                                       |
| /api/jobs/post                    | POST        | JobController  | PostJob            | - EmployerId (int)<br>- JobTitle (string)<br>- Description (string)<br>- RequiredSkills (array of strings)<br>- SalaryRange (string) | Required, Must Exist in Database<br>Required, MinLength: 5, MaxLength: 100<br>Required, MinLength: 10, MaxLength: 500<br>Required, Valid Skills<br>Optional, Valid Format (e.g., 50K-70K) | Accepts job details like title, description, required skills, and salary range. Saves job in the Jobs table, linking it to the employer via EmployerId. Returns success or error message.         |
| /api/jobs/view-applicants/{jobId} | GET         | JobController  | GetApplicantsByJob | - JobId (int)                                                                                                                        | Required, Must Exist in Database                                                                                                                                                          | Fetches a list of users who applied for the job. Performs a join between JobApplications and Users tables. Returns details of applicants including skill matches, contact info, and resume links. |

## 3. Admin APIs

| API Endpoint                    | HTTP Method | Controller      | Method          | Required Fields | Validations                      | Description                                                                                                                                    |
| ------------------------------- | ----------- | --------------- | --------------- | --------------- | -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| /api/admin/users                | GET         | AdminController | GetAllUsers     | None            | N/A                              | Fetches all users from the Users table. Useful for administrative purposes like viewing the number of active users.                            |
| /api/admin/employers            | GET         | AdminController | GetAllEmployers | None            | N/A                              | Fetches all employers from the Employers table. Provides details like company name, registration date, and total jobs posted.                  |
| /api/admin/jobs                 | GET         | AdminController | GetAllJobs      | None            | N/A                              | Retrieves all job postings from the Jobs table. Includes employer details, job status (active/inactive), and statistics like total applicants. |
| /api/admin/delete-user/{userId} | DELETE      | AdminController | DeleteUser      | - UserId (int)  | Required, Must Exist in Database | Deletes a user and all related records (e.g., skills, job applications). Ensures data consistency using cascading deletes.                     |
| /api/admin/delete-job/{jobId}   | DELETE      | AdminController | DeleteJob       | - JobId (int)   | Required, Must Exist in Database | Deletes a job posting. Ensures cascading deletes for related applications.                                                                     |

## 4. General APIs

| API Endpoint                        | HTTP Method | Controller            | Method           | Required Fields                                                                               | Validations                                                                                                                                                   | Description                                                                                                                                                                                                                          |
| ----------------------------------- | ----------- | --------------------- | ---------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| /api/general/skills                 | GET         | SkillController       | GetAllSkills     | None                                                                                          | N/A                                                                                                                                                           | Fetches a list of all predefined skills from the Skills table. Returns skill names and IDs as JSON. Used in user registration or job posting to populate skill selection dropdowns.                                                  |
| /api/general/categories             | GET         | CategoryController    | GetAllCategories | None                                                                                          | N/A                                                                                                                                                           | Retrieves all job categories from the Categories table. Provides category names and IDs as JSON. Used for filtering or job posting.                                                                                                  |
| /api/general/job/{jobId}            | GET         | JobController         | GetJobDetails    | - JobId (int)                                                                                 | Required, Must Exist in Database                                                                                                                              | Retrieves full details of a job posting based on JobId. Includes job title, description, employer details, required skills, salary range, and posted date.                                                                           |
| /api/general/search-jobs            | GET         | SearchController      | SearchJobs       | - Query (string)<br>- CategoryId (int)<br>- SkillId (int)<br>- Page (int)<br>- PageSize (int) | Optional, MaxLength: 100<br>Optional, Must Exist in Categories Table<br>Optional, Must Exist in Skills Table<br>Optional, Default: 1<br>Optional, Default: 10 | Accepts a search query for jobs. Filters jobs by title, description, or required skills from the Jobs table. Returns a paginated list of matching jobs. Supports query parameters for sorting (e.g., by relevance, salary, or date). |
| /api/general/apply-job              | POST        | ApplicationController | ApplyToJob       | - UserId (int)<br>- JobId (int)                                                               | Required, Must Exist in Users Table<br>Required, Must Exist in Jobs Table                                                                                     | Allows a user to apply for a specific job. Saves a record in the JobApplications table linking the UserId to the JobId. Responds with success or error messages.                                                                     |
| /api/general/job-applicants/{jobId} | GET         | JobController         | GetJobApplicants | - JobId (int)                                                                                 | Required, Must Exist in Jobs Table                                                                                                                            | Retrieves a list of users who applied for a specific job. Returns user profiles (name, email, skills) and application status (pending, approved, rejected).                                                                          |
| /api/general/upload-resume          | POST        | UserController        | UploadResume     | - UserId (int)<br>- File (file)                                                               | Required, Must Exist in Users Table<br>Required, File Type: PDF/DOCX, Max Size: 5MB                                                                           | Allows users to upload their resumes. Accepts files (PDF/Docx only) and saves them in a specific directory or blob storage. Updates the ResumePath in the Users table. Validates file size and format.                               |
| /api/general/contact-us             | POST        | GeneralController     | ContactUs        | - Name (string)<br>- Email (string)<br>- Message (string)                                     | Required, MinLength: 3, MaxLength: 50<br>Required, Valid Email Format<br>Required, MinLength: 10, MaxLength: 500                                              | Accepts user inquiries or feedback. Saves the details in the ContactUs table and triggers an email notification to the admin.                                                                                                        |

Would you like me to explain the internal working of any of these APIs?
